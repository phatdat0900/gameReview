import { category } from "../category.js";
import Sentiment from "sentiment";
var sentiment = new Sentiment();
function checkWordInSentences(string, words) {
  let check = false;
  words.forEach((word) => {
    if (string.includes(word)) {
      check = true;
    }
  });
  return check;
}
const article =
  " With Diablo 4's release now here, it's sometimes difficult to reconcile that Diablo III is over a decade old. Its release was polarizing for a number of reasons, but its evolving formula of action role-playing endured, enjoying a resurgence with its post-launch expansion that carried through years of ongoing seasonal updates. It shouldn't come as a surprise, then, that each of those years helped inform the design of Diablo IV, a game which confidently delivers gameplay that has been carried forward and refined from both Diablo II and III, while also establishing a strong foundation for the franchise's future.Diablo games have always contained stories for their single-player campaigns, but you'd be forgiven for thinking of past storylines as merely contextualization for the game's primary focus: dungeon-crawling. That's where Diablo IV makes one of its most striking changes: It not only takes its story far more seriously, but it tells one that's far more engrossing than ever before. As a traveling wanderer, you come across a small town of villagers on a snow-capped mountain range looking for some aid. After killing some creatures and returning, you're welcomed as a hero and given food and shelter, only for the villagers to try to use you in a ritual sacrifice to Lilith, co-creator of Sanctuary and recently resurrected antagonist of this tale, moments later. This encounter links you to Lilith, driving you forward on a quest to stop her plan of amassing an army for her own nefarious purposes.Much of that sounds like standard Diablo fare. There's a big, bad demon, and you're the only one who can stop it. But Diablo IV makes intelligent use of Lilith, layering her motivations slowly to the point where you can't help but consider her side of the argument. She's not driven solely by the lust for destruction. Instead, she's grieving, with the place she once created to escape the endless cycle of war between heaven and hell now being used as a staging ground to continue it. She's an antagonist that has been slighted by those she trusted at every turn, and while her means of exacting justice provide the reason for your entire crusade in the first place, it's surprising and equally welcome when Diablo IV forces you to slow down and consider the true goal of your struggle.The trope of the sole savior has been tried and tested in Diablo for years, and Diablo IV doesn't completely change that. Instead, it puts a much larger emphasis on companions than ever before, with most acts centered around a new party member rather than a demon you're eventually hunting down. An early standout is Vigo, a prideful knight who is forced to endure a conscience-ruining loss after a single, selfish decision. It's not just Vigo's remorse that is heart-wrenchingly conveyed, but also the horrors of his eventual redemption, leading to one of the more powerful character moments in the entire game. Vigo's story is a teaser for many similar arcs that follow, all of which do a great job of providing a cause for a character to join your fight while also contextualizing their motivations to continue (or abstain) from the enduring conflict. This applies to most of the allies you'll recruit in your fight against Lilith, each of which has their own motivations that feel faithful to their respective journeys. It's a level of care I can't recall being given to many past Diablo companions, and Diablo IV certainly makes far more liberal use of them through the campaign to make them feel purposeful.Bringing together this ragtag group takes place over Diablo IV's extensive six acts, some of which you can tackle in different orders. Previous Diablo titles had each act accompanied by a change in locale, but in Diablo IV it only takes a few moments before you're given free rein to explore its intimidatingly large, interconnected map. Here you can transition from frigid mountaintops to desolate deserts in just a matter of minutes, with the transitional areas doing a good job of masking an otherwise jarring change. Having a static layout that you can learn and get comfortable with imbues exploration with a greater sense of wonder than previous hubs, which were often filled with enemies to kill before diving into the next dungeon. The geography also gives towns and larger cities a sense of place on a bigger map.Each distinct area is shown off with a great amount of visual detail, with Diablo IV incorporating a delightfully macabre style that is befitting of its violent story. It's not trying to overly correct some of the criticisms laid on Diablo III either, with pops of color used tastefully to highlight areas of hope and kinship that contrast against the broader strokes of dread and fear paintingthe rest of the landscape. Things don't always hold up when the camera zooms into to give conversations a cinematic feel, as a degradation in detail on character models and environments is more discenrable. Regardless, it's still a striking presentation that looks incredible in motion, while also keeping information clear enough to read when fights get chaotic.The moment-to-moment action in Diablo IV is one of its strongest traits, which is for the best given how genre-defining the series has been over the years. There's an argument to be made that Diablo III went too far in the direction of simplification, and that's exactly where the Diablo IV course-corrects in smart ways. You're still limited to a total of six active abilities at a time--four on your hotbar and two on each mouse button for those on PC--but how you construct your build is no longer linear. Instead, each new level lets you invest a point in a branching skill tree, with each of its core nodes branching out further into new abilities and associated passive perks. You need to invest a certain number of total points to continue unlocking each of these nodes, so you will have to think carefully about abilities and how they serve your greater build. It's a system that allows for a lot of flexibility, letting you experiment with focusing on one specific ability as the foundation of your build or dabbling with ways to combine two entirely different paths, such as empowering your summoned skeletons while also firing off loads of blood-infused magic as a Necromancer.Experimentation is further encouraged by Diablo IV's low cost to respec, and unlimited chances to do so. Unlike the more punishing approach in Diablo II, you can completely redefine your build at any time for a small fee of in-game gold, approaching your skill tree with a different idea in mind or just making some small changes to adjust for a difficult fight. This freedom is empowering in a similar way to that of Diablo III's fluid build system, but still requires you to engage meaningfully with synergies to make your builds viable. It feels like the culmination of all the ways previous games in the series have allowed you to play while catering to as many playstyles as possible, but without many of the critical compromises from the last time out. The cost for a respec does naturally increase the higher your level, but it never got to a point where I felt it was too expensive in relation to the amount of gold I was earning at the time.Thanks to this system, I felt free to continually change up my approach to my Necromancer. I started with a combination of skeleton summoning, shadow damaging attacks, and some blood spells for survivability. The Necromancer's unique ability lets me either summon minions from corpses or sacrifice the ability entirely for passive advantages, which lead me to realize that I could theoretically play a Necromancer entirely as a pseudo-mage with blood and bone abilities. After some taxing boss battles, I decided to go all in on a summoning build that accentuated the abilities of my skeleton soldiers, mages, and large, hulking golem, each of which had three different variations I could combine to find perfect synergy. It was consistently satisfying to find a build that worked for a couple of hours and then completely change it, either through necessity or curiosity. Seeing small decisions manifest as big changes in terms of overall viability gives me faith that each class is going to be picked apart for various approaches that maximize elements of different playstyles.While the skill tree is where you will ultimately establish the basis of your build, Aspects of Power are a new facet of the role-playing formula that allows you to hone it. These collectible skills (so to speak) can be combined with rare pieces of gear to turn them into custom legendary items, imbued with the exact ability that complements the build you're constructing. This alleviates some of the headaches associated with grinding out dungeons in the hopes of a particular legendary piece of gear dropping, while also providing a new avenue of options for build construction. That isn't to say that it diminishes the rush of a big legendary drop though. Legendary weapons can often feature the same abilities that Aspects do, but will regularly have better percentage rolls on their effectiveness, still making them the ideal path to the most optimal late-game builds.Aspects of Power are obtained by clearing the many dungeons sprawled around the map, each of which feature their own multi-stage objectives to complete. Some are as simple as killing enemies and depositing their souls to progress further, while others require you to hunt down a specific foe in search of a key that lets you reach lower levels of the dungeon. Each of these concludes with a boss fight, which for the most part are less interesting than those found in main story dungeons. Bosses throughout the story are multi-layered bouts, with shifting enemy attacks that can completely change the landscape you're fighting in, forcing you to consistently think about positioning and when the best moments for attack are. Bosses in these more common dungeons lack that sense of complexity, and I often found my skeleton warriors completely overwhelming many of them to the point where many of the bosses would just stand in place and attack until dead. Given the sheer number of dungeons on offer, it might not have been possible to retain the same level of tension across every boss encounter, but when you're bouncing between several of these as you grab Aspects of Power throughout your campaign, it's difficult not to notice the stark contrast in quality between the two.As with any Diablo title, Diablo IV is nowhere near complete once you've rolled credits on the campaign. World Tiers return to incentivize you to go through everything again with a higher degree of difficulty but also more rewards to reap. It's welcome that Diablo IV retains the option that allows you to jump into a more challenging World Tier from the start this time, preventing a potentially frustrating first playthrough devoid of any meaningful challenge. Outside of increasing the World Tier, the map becomes littered with additional side activities that join regular side quests, rotating open-world dynamic quests (similar to patrols in Destiny 2), and Strongholds. These are extremely hostile areas that are densely populated with enemies usually a level or two higher than you, providing a larger challenge to overcome than regular groups of foes around the open-world. Minor objectives also make this feel like smaller-scale, open-air dungeons, with new waypoints and merchants usually unlocked once you've rid the area of the threat. Larger scale world boss fights that are best tackled with numerous other players you will find in the open world are also available, although no multiplayer features were available during the review period.Whispers of the Dead encapsulate timed bounties that popup throughout the world, with each one rewarding you with an additional currency that can be turned in for caches of gems, weapons, and more. Nightmare Sigils, which can be obtained through completing Whispers of the Dead quest, can be used to unlock additional Nightmare Dungeons. These add new modifiers to existing dungeons around the map that can do anything from changing the types of enemies you encounter to rolling new random abilities they might have at their disposal, with the allure of even rarer loot drops enticing you to run them over and over again.There is a familiar but equally expansive framework in place already in Diablo IV that should satiate you across multiple playthroughs, with plans already detailed by Blizzard to expand on this through seasons of new content similar to that of Diablo III.Diablo IV, at this time, cannot escape comparison to the past of the franchise it belongs to, but it's thankfully a game that has been crafted with a strong awareness of what made each one either revered or reviled. It represents a measured approach to combining the many elements from previous entries that worked into a system that feels like the new standard-bearer for action role-playing. Coupled with a new benchmark for storytelling in the franchise, and a solid narrative foundation for any potential new adventures, it's easy to see Diablo IV as something I'll regularly check-in on for a long time to come.";

const article2 =
  "Maybe I'm supposed to hate Postal 4: No Regerts. Maybe that's sort of the point. Developer Running With Scissors describes it as a sequel to “the worst game ever,” Postal 2, renowned for its vulgarity and rough edges. If the goal was to make one that's even worse then that's certainly been achieved, but that gag doesn't mean it's ever fun to actually play. Even for the novelty of a guilty pleasure, like watching a really bad movie for a laugh, Postal 4 only ever disappoints – if I could somehow forgive the corny writing, bad graphics, awful gunplay, and constant bugs, it would still be incredibly difficult to enjoy any game that hard crashes every hour or so. Whether you're in on the joke or not, there's nothing on offer here except pain.Postal 4 bills itself as a satirical open-world shooter that wants to push the limits with a raunchy, over-the-top style and a crass subject matter in the vein of South Park. The main difference is that South Park usually backs up its outrageous ideas with smart writing and some kind of coherent message or meaning behind the madness, while Postal 4 almost never sticks the landing. Its sophomoric, cringe-inducing writing is mostly made up of pointless sexual gags and literal toilet humor, and it all feels like it was spewed out by a fourth grader who just learned their tenth naughty word. There's one part where you have to unclog a sewer by smacking huge piles of feces with a shovel and another where you visit a vagina-themed amusement park for no discernible reason. It's embarrassingly juvenile stuff to be sure, but if the dialogue were at least well-written or clever along the way I'd have no problem with that. It isn't. Instead it's got all the subtlety and nuance of an enraged ape throwing its dung.If you even consider Postal 4's sloppy chain of errands a “story,” it's an absolutely miserable one. You play as The Dude from Postal 2, a bathrobe-wearing ne'er-do-well, as he searches for his stolen mobile home and tries to scrape out a living by doing a series of bizarre nonsequitur chores for the locals. Along the way you meet a cast of unhinged characters like a man obsessed with bidets for some reason and a foul-mouthed mobster and must complete a chain of quests for each of them before moving on to the next set. After seeming not to bother with telling a coherent story for the first 14 of its 15 hours, the end bizarrely tries to throw a curveball at you and make you care about anything that's happened with a plot twist that fell flatter than my uncle thinks the Earth is.It's a mess, and that's before we even touch the parts that delve into sensitive political topics. Unlike the generally excellent commentary found in Grand Theft Auto 5, Postal 4 left me wincing for hours as it takes on heavy issues with the finesse and grace of a grease fire. One mission had me launch Mexicans over a border wall via a giant slingshot and another had me “reform” some prison inmates by beating them senseless. As someone with practically no boundaries when it comes to comedy, I'm definitely not one to clutch my pearls just because a game is making light of hot-button issues for the sake of shock jokes – but Postal 4 does offend me by how painfully unfunny it is nearly every step of the way. The fact that it so wildly misses the mark while using such heavy topics as the subject just makes the “comedy” that much harder to bear.In fairness, there are the tiniest slivers of moments where I can see what Running With Scissors was going for. One section where I painted over a gang's graffiti and was attacked by a group of Karens who accused me of cultural appropriation caught me off guard and made me smile, while another that forced me to cast my vote in an election that was clearly rigged came close to making something resembling a point. These moments got a chuckle out of me, but they're so buried under jokes that sent a full-body cringe through my system it was hardly worth exhuming them.If you were hoping that maybe some wacky, larger-than-life FPS combat could make up for the comedy shortcomings, I have some awful news: by every metric, playing Postal 4 is a complete horror show. The open-world areas are empty and lifeless, gunplay is clunky and unsatisfying, and technical issues and crashes are near-constant. It's a veritable sample platter of everything a video game could get wrong.So, working our way down the suffering buffet, let's save the worst nightmares for dessert and instead start with the wonky combat as an appetizer. When it's at its best, gunplay relies on being completely over-the-top to compensate for its lack of polish. For example, you might stick a living cat on the end of your gun to use it as a silencer or dual-wield rocket launchers like some kind of monster. That wackiness isn't without some merit, even if it occasionally strays into eye-rolling territory, like the fact that you can (and are sometimes compelled to) pee on enemies in lieu of firing a weapon.But good times birthed from originality are almost always bogged down by janky fundamentals that simply don't deliver. Enemies are so dumb that they just stand around mindlessly waiting to be killed or get stuck in the environment while you spray them with imprecise weapons that more often than not feel terrible to fire. And on the off chance they do kill you, dying usually just respawns you a few feet away without undoing any of your progress, so there's no reason to think at all during combat. That is, except for the fact that I found dying and respawning also has a tendency to cause hard crashes and other experience-ruining bugs for some reason, but that was more infuriating than motivating.Most of this frustrating action takes place in the city of Edensin, a desert area where you'll commit numerous felonies, take on optional challenges, and ride mobility scooters through mostly empty spaces. The main course of this miserable banquet is a sandbox that expects you to create a lot of your own fun, but Postal 4's open world tends to make that pretty difficult due to there being so little to do or discover. Even going on a GTA-style rampage has very few consequences since the police officers patrol exclusively on foot and don't do a lot to ramp up their counter-attacks when you cause a disturbance. I ended up mostly passing right through new areas on my way from one story mission to another since going off the beaten path rarely seemed to reward me. The only remotely fun part about roaming Edensin is that your emote selection is fairly strong and often comes with music cues, so at least I got a kick out of twerking all over town.One notable exception to the largely aimless city are “Go Postal” challenges, which can be found throughout Edensin and ask you to assault bystanders in a specific manner on a timer. You might be told to kill a bunch of people with a revolver or urinate on a certain number of passersby before your time runs out, earning a bit of money that can then be used to buy weapons, ammo, or other items necessary to further your homicidal desires. These challenges can be an entertaining way to kill a few minutes, but aren't particularly rewarding and certainly aren't unique enough to warrant going out of your way to find and complete. After all, you can pee on people at any time, not just when a timer tells you to.But the rancid mousse to end this meal, and the biggest issue with Postal 4 by a longshot, is how terribly the thing runs. I found myself crashing to the desktop dozens of times during my 15-hour playthrough, sometimes two or three times in less than an hour. And even when it's not crashing, there's a parade of other bugs to almost constantly make life harder on you. I saw people phase through the environment and important objectives disappear until I reloaded my save file. I fell into broken areas of the map with no way to escape, and similarly saw bosses wind up in areas they weren't supposed to be in, glitching out until I ended the encounter. Postal 4 is so unstable that I found myself panic-saving every couple of minutes, living in fear of what might go horribly wrong next – which it then did, without fail.Even during the rare periods of time when no bugs or crashes were happening, performance issues still meant it ran absolutely terribly. My PC has a GeForce RTX 2080ti GPU alongside a Ryzen 9 CPU, but it still couldn't save this unoptimized catastrophe from itself. Everything looks awful (especially characters), moving from area to area results in abnormally long loading and autosaving times that leave you frozen in place, and the frame rate jumps up and down wildly, especially when lots is happening on-screen. You name it, Postal 4 probably has trouble doing it.";

const article3 =
  "Dragon Ball Z: The Legacy of Goku is an action role-playing game for the Game Boy Advance. Its storyline condenses the entire 92 episodes of the Saiyan Saga into a single video game. Fans of the series will enjoy the subject matter and lengthy list of cameo appearances, but devout RPG players won't find anything to sink their teeth into--since the game is short, easy, and lacking in imagination.You assume the role of Goku, who is on vacation to visit Master Roshi on Turtle Island. Soon after his arrival, Raditz--Goku's long-lost Saiyan brother--shows up and kidnaps Goku's son, Gohan. This sends you on a quest to rescue Gohan, which the game ultimately forges into a succession of lengthy scavenger hunts and battles against notable series villains. All of the big names are present, including Vegeta, Frieza, Krillin, Piccolo, and King Kai.Amusingly, while the animated series draws criticism for spreading single battles across multiple TV episodes, the entire quest in Dragon Ball Z: The Legacy of Goku lasts a mere four hours. If you spend time gaining experience by fighting generic Saiyans and other creatures, it might take five. The game's scarcity of depth isn't for lack of locations, since it has more than 16 TV-inspired stages to explore; it's because there is very little in the way of character interaction, item trading, or side quests. Before you reach the final battle, there are literally only 26 different tasks to complete.Some players will also find that the game lacks challenge. Although you begin the quest at risk of being mauled by sand crabs and wolves, eventually you'll be able to vanquish the majority of enemies with a single hit from Goku's fireball attack. Thankfully, though, the controls are similarly easy. All four of the GBA's buttons are used to enable Goku to punch, fly, and talk, as well as swap between and cast a number of special \"ki\" attacks. Even if Goku doesn't have all of his abilities from the TV series, his fans should be pleased to know that he can cast fireballs, blind opponents with a flare, and launch his superspecial King Kamehameha attack.Other than the time you'll spend fighting random creatures, Goku's journey is more restrictive than it is creative. The majority of side quests involve retrieving misplaced items for local residents, such as rescuing an errant toddler or gathering stones for a makeshift bridge, but trading for or seeking items is never an issue, since nonplayer characters usually tell you exactly where to find the necessary objects. Once you've completed a task, it's impossible to backtrack to previous locations, which further limits any sense of freedom you'll feel while playing the game. As for bosses, there are really only two--Vegeta and Frieza--although you'll have to defeat their henchmen as well. This is all a far cry from what you'd get in a typical RPG, which usually involves excessive backtracking, plenty of bartering, and numerous side quests.The most impressive aspects of Legacy of Goku are its visuals and audio. Graphically, all of the backgrounds are colorful and full of gratuitous detail, while character sprites are large enough so that you can clearly discern who they're supposed to be. Character animation is choppy, but you never really notice it since the majority of action involves walking or casting fireballs. The game does lose a few style points for its perspective, as Goku often sticks to skyward portions of the 2D sprites that compose the 3D landscape. Music and sound effects are straight from the TV series and even include speech samples for a number of characters.For an RPG, Dragon Ball Z: The Legacy of Goku is barely worth a second look on the shelf next to Nintendo's Golden Sun and Capcom's Breath of Fire II. Nevertheless, for a product based on an animated series and one that will be purchased by primarily younger audiences, it is a decent inroad into one of the world's most beloved cartoons.";
const entries = Object.entries(category);
let story = "";
let graphic = "";
let gameplay = "";
const analys = {
  story: {},
  graphic: {},
  gameplay: {},
};
const sentences = article3.match(/[^.?!]+[.!?]+[\])'"`'”]*/g);
entries.forEach((e) => {
  analys[e[0]].review = "";
  sentences.forEach((review) => {
    if (checkWordInSentences(review, e[1])) {
      analys[e[0]].review = analys[e[0]].review + review;
    }
  });
});
Object.keys(analys).forEach((e) => {
  console.log(e);
  let result = sentiment.analyze(analys[e].review);
  if (result.calculation.length != 0) {
    analys[e].score = result.score;
  }
});

console.log(analys);
//    const reviewSplit = response.reviews.map((item) => {
//      const sentences = item.comment.match(/[^.?!]+[.!?]+[\])'"`'”]*/g);

//      const analysSentences = sentences.map((e) => {
//        let result = sentiment.analyze(e);
//        if (result.calculation.length != 0) {
//          return { sentence: e, score: result.score, topics: [] };
//        }
//      });
//      return analysSentences;
//    });
